// SERVER ######################################################################

'use strict';

// 1. DEPENDENCIES +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

const express = require('express')

const cfg = require('./config')
const api = require('./router')


// 1. END ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

// 2. SERVER +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

const app = express()

// 2.1. MIDDLEWARE .............................................................



// 2.1. END ....................................................................

// 2.2. ROUTES .................................................................

app.get('/', function (req, res) {
  res.redirect(cfg.server.app)
})

app.use('/api', api)

// 2.2. END ....................................................................

// 2.3. LISTENING ..............................................................

app.listen(cfg.server.port, () => {
  console.log(`Whaledown is running at ${cfg.server.port}`);
});

// 2.3. END ....................................................................

// 2. END ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

// END OF FILE #################################################################
